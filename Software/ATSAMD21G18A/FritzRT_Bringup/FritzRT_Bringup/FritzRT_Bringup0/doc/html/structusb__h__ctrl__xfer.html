<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: usb_h_ctrl_xfer Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structusb__h__ctrl__xfer.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structusb__h__ctrl__xfer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">usb_h_ctrl_xfer Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Transfer descriptor for control transfer.  
 <a href="structusb__h__ctrl__xfer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="hpl__usb__host_8h_source.html">hpl_usb_host.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a4e6a75132f6c0ca21aa0d4a9a44e9b9f"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structusb__h__ctrl__xfer.html#a4e6a75132f6c0ca21aa0d4a9a44e9b9f">data</a></td></tr>
<tr class="separator:a4e6a75132f6c0ca21aa0d4a9a44e9b9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7bbc367de903eb4319432768b57442b"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structusb__h__ctrl__xfer.html#ad7bbc367de903eb4319432768b57442b">setup</a></td></tr>
<tr class="separator:ad7bbc367de903eb4319432768b57442b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64df46630092535d3c706e816bf22116"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structusb__h__ctrl__xfer.html#a64df46630092535d3c706e816bf22116">size</a></td></tr>
<tr class="separator:a64df46630092535d3c706e816bf22116"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1431c769926b00cf8ddfc60c7758271"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structusb__h__ctrl__xfer.html#ac1431c769926b00cf8ddfc60c7758271">count</a></td></tr>
<tr class="separator:ac1431c769926b00cf8ddfc60c7758271"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e524622e50fbcbdd4f2edc79bfdcd08"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structusb__h__ctrl__xfer.html#a1e524622e50fbcbdd4f2edc79bfdcd08">req_timeout</a></td></tr>
<tr class="separator:a1e524622e50fbcbdd4f2edc79bfdcd08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad090b0b14e24af272f3ea6a1b8c1595d"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structusb__h__ctrl__xfer.html#ad090b0b14e24af272f3ea6a1b8c1595d">pkt_timeout</a></td></tr>
<tr class="separator:ad090b0b14e24af272f3ea6a1b8c1595d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac26b14086c38dc598d26b75faaf98a64"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structusb__h__ctrl__xfer.html#ac26b14086c38dc598d26b75faaf98a64">pkt_size</a></td></tr>
<tr class="separator:ac26b14086c38dc598d26b75faaf98a64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a9bfe1f9da5dadc830a0e2b502eda69"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structusb__h__ctrl__xfer.html#a6a9bfe1f9da5dadc830a0e2b502eda69">state</a></td></tr>
<tr class="separator:a6a9bfe1f9da5dadc830a0e2b502eda69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07b31fc28b01ca6356b1dccbf6ec4443"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structusb__h__ctrl__xfer.html#a07b31fc28b01ca6356b1dccbf6ec4443">status</a></td></tr>
<tr class="separator:a07b31fc28b01ca6356b1dccbf6ec4443"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Transfer descriptor for control transfer. </p>
<p>Timing in USB 2.0 spec.:</p><ul>
<li>9.2.6.1 : USB sets an upper limit of 5 seconds as the upper limit for any command to be processed.</li>
<li>9.2.6.3 : if a device receives a SetAddress() request, the device must be able to complete processing of the request and be able to successfully complete the Status stage of the request within 50 ms. After successful completion of the Status stage, the device is allowed a SetAddress() recovery interval of 2 ms. At the end of this interval, the device must be able to accept Setup packets addressed to the new address.</li>
<li>9.2.6.4 : For standard device requests that require no Data stage, a device must be able to complete the request and be able to successfully complete the Status stage of the request within 50 ms of receipt of the request. This limitation applies to requests to the device, interface, or endpoint. For standard device requests that require data stage transfer to the host, the device must be able to return the first data packet to the host within 500 ms of receipt of the request. For subsequent data packets, if any, the device must be able to return them within 500 ms of successful completion of the transmission of the previous packet. The device must then be able to successfully complete the status stage within 50 ms after returning the last data packet. For standard device requests that require a data stage transfer to the device, the 5-second limit applies.</li>
<li>9.2.6.5 : Unless specifically exempted in the class document, all class-specific requests must meet the timing limitations for standard device requests.</li>
</ul>
<p>Conclusion:</p><ol type="1">
<li>Whole request with data: 5 seconds</li>
<li>Whole request without data: 50 ms</li>
<li>Data packets: 500 ms </li>
</ol>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="ac1431c769926b00cf8ddfc60c7758271"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1431c769926b00cf8ddfc60c7758271">&#9670;&nbsp;</a></span>count</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t usb_h_ctrl_xfer::count</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transfer count </p>

</div>
</div>
<a id="a4e6a75132f6c0ca21aa0d4a9a44e9b9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e6a75132f6c0ca21aa0d4a9a44e9b9f">&#9670;&nbsp;</a></span>data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t* usb_h_ctrl_xfer::data</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pointer to transfer data </p>

</div>
</div>
<a id="ac26b14086c38dc598d26b75faaf98a64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac26b14086c38dc598d26b75faaf98a64">&#9670;&nbsp;</a></span>pkt_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t usb_h_ctrl_xfer::pkt_size</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Packet size during transfer (&lt;= allocate max packet size) </p>

</div>
</div>
<a id="ad090b0b14e24af272f3ea6a1b8c1595d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad090b0b14e24af272f3ea6a1b8c1595d">&#9670;&nbsp;</a></span>pkt_timeout</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t usb_h_ctrl_xfer::pkt_timeout</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Timeout between packets (500ms for data and 50ms for status), -1 if disabled </p>

</div>
</div>
<a id="a1e524622e50fbcbdd4f2edc79bfdcd08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e524622e50fbcbdd4f2edc79bfdcd08">&#9670;&nbsp;</a></span>req_timeout</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t usb_h_ctrl_xfer::req_timeout</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Timeout for request, -1 if disable timeout </p>

</div>
</div>
<a id="ad7bbc367de903eb4319432768b57442b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7bbc367de903eb4319432768b57442b">&#9670;&nbsp;</a></span>setup</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t* usb_h_ctrl_xfer::setup</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pointer to setup packet </p>

</div>
</div>
<a id="a64df46630092535d3c706e816bf22116"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64df46630092535d3c706e816bf22116">&#9670;&nbsp;</a></span>size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t usb_h_ctrl_xfer::size</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Expected transfer size </p>

</div>
</div>
<a id="a6a9bfe1f9da5dadc830a0e2b502eda69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a9bfe1f9da5dadc830a0e2b502eda69">&#9670;&nbsp;</a></span>state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t usb_h_ctrl_xfer::state</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transfer state </p>

</div>
</div>
<a id="a07b31fc28b01ca6356b1dccbf6ec4443"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07b31fc28b01ca6356b1dccbf6ec4443">&#9670;&nbsp;</a></span>status</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t usb_h_ctrl_xfer::status</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Last transfer status </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>hal/include/<a class="el" href="hpl__usb__host_8h_source.html">hpl_usb_host.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="structusb__h__ctrl__xfer.html">usb_h_ctrl_xfer</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
