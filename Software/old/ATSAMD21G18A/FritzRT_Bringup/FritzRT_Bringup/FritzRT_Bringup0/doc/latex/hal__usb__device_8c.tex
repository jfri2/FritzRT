\hypertarget{hal__usb__device_8c}{}\section{hal/src/hal\+\_\+usb\+\_\+device.c File Reference}
\label{hal__usb__device_8c}\index{hal/src/hal\+\_\+usb\+\_\+device.\+c@{hal/src/hal\+\_\+usb\+\_\+device.\+c}}


S\+AM U\+SB device H\+AL.  


{\ttfamily \#include \char`\"{}hal\+\_\+usb\+\_\+device.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}hal\+\_\+atomic.\+h\char`\"{}}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structusb__d__ep__callbacks}{usb\+\_\+d\+\_\+ep\+\_\+callbacks}
\item 
struct \hyperlink{structusb__ep__xfer__hdr}{usb\+\_\+ep\+\_\+xfer\+\_\+hdr}
\item 
struct \hyperlink{structusb__ep__xfer}{usb\+\_\+ep\+\_\+xfer}
\item 
struct \hyperlink{structusb__d__ep}{usb\+\_\+d\+\_\+ep}
\item 
struct \hyperlink{structusb__d__descriptor}{usb\+\_\+d\+\_\+descriptor}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{hal__usb__device_8c_abecd5d83ae1a05fb01bc78f93da2022c}{U\+S\+B\+\_\+\+D\+\_\+\+V\+E\+R\+S\+I\+ON}~0x00000001u
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int32\+\_\+t \hyperlink{group__doc__driver__hal__usb__device_ga5f357667fb7640cea64b82cf1f4376c9}{usb\+\_\+d\+\_\+init} (void)
\begin{DoxyCompactList}\small\item\em Initialize the U\+SB device driver. \end{DoxyCompactList}\item 
void \hyperlink{group__doc__driver__hal__usb__device_ga00e63d5eee63f22d39997734778629aa}{usb\+\_\+d\+\_\+deinit} (void)
\begin{DoxyCompactList}\small\item\em Deinitialize the U\+SB device driver. \end{DoxyCompactList}\item 
void \hyperlink{group__doc__driver__hal__usb__device_ga8ee730c27e0d709f1f44d89fa21a4bef}{usb\+\_\+d\+\_\+register\+\_\+callback} (const enum \hyperlink{hpl__usb__device_8h_a79a1dfcff6b553cb9ef5c23af4e81b65}{usb\+\_\+d\+\_\+cb\+\_\+type} type, const \hyperlink{group__doc__driver__hal__utils__macro_gae40b38bc5f5a5bd452bdd59c67d9a9cf}{F\+U\+N\+C\+\_\+\+P\+TR} func)
\begin{DoxyCompactList}\small\item\em Register the U\+SB device callback. \end{DoxyCompactList}\item 
int32\+\_\+t \hyperlink{group__doc__driver__hal__usb__device_gafbe4165a1a43238b36bb9014ce7d964c}{usb\+\_\+d\+\_\+enable} (void)
\begin{DoxyCompactList}\small\item\em Enable the U\+SB device driver. \end{DoxyCompactList}\item 
void \hyperlink{group__doc__driver__hal__usb__device_gab7b226a14c9a585eedd0a43c1a40fc3e}{usb\+\_\+d\+\_\+disable} (void)
\begin{DoxyCompactList}\small\item\em Disable the U\+SB device driver. \end{DoxyCompactList}\item 
void \hyperlink{group__doc__driver__hal__usb__device_ga69ade1f34dfbf55ef65d4f727a861600}{usb\+\_\+d\+\_\+attach} (void)
\begin{DoxyCompactList}\small\item\em Attach the U\+SB device. \end{DoxyCompactList}\item 
void \hyperlink{group__doc__driver__hal__usb__device_ga8db4c58cbd6cc30f52e07c329db74f9f}{usb\+\_\+d\+\_\+detach} (void)
\begin{DoxyCompactList}\small\item\em Detach the U\+SB device. \end{DoxyCompactList}\item 
enum \hyperlink{hpl__usb_8h_aa8869b6740b8c54598b0c8aa8bf4d340}{usb\+\_\+speed} \hyperlink{group__doc__driver__hal__usb__device_gaf62023a87e77430dab4553fe213733c0}{usb\+\_\+d\+\_\+get\+\_\+speed} (void)
\begin{DoxyCompactList}\small\item\em Retrieve current U\+SB working speed. \end{DoxyCompactList}\item 
uint16\+\_\+t \hyperlink{group__doc__driver__hal__usb__device_gaec972bc8924fc45ee34da6d4d55b91ff}{usb\+\_\+d\+\_\+get\+\_\+frame\+\_\+num} (void)
\begin{DoxyCompactList}\small\item\em Retrieve current U\+SB frame number. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{group__doc__driver__hal__usb__device_ga99f3ce0a0dc651174ec3785eb128a062}{usb\+\_\+d\+\_\+get\+\_\+uframe\+\_\+num} (void)
\begin{DoxyCompactList}\small\item\em Retrieve current U\+SB micro frame number. \end{DoxyCompactList}\item 
void \hyperlink{group__doc__driver__hal__usb__device_ga78b6a8341934ab15fe13c731b4134385}{usb\+\_\+d\+\_\+set\+\_\+address} (const uint8\+\_\+t addr)
\begin{DoxyCompactList}\small\item\em Set the U\+SB address that is used. \end{DoxyCompactList}\item 
void \hyperlink{group__doc__driver__hal__usb__device_ga8c17e7c142dc1439261904e3bcae4f0e}{usb\+\_\+d\+\_\+send\+\_\+remotewakeup} (void)
\begin{DoxyCompactList}\small\item\em Send remote wakeup to host. \end{DoxyCompactList}\item 
int32\+\_\+t \hyperlink{group__doc__driver__hal__usb__device_ga2afdd5d981af6ebb51653e7ab6d05e6b}{usb\+\_\+d\+\_\+ep0\+\_\+init} (const uint8\+\_\+t max\+\_\+pkt\+\_\+size)
\begin{DoxyCompactList}\small\item\em Initialize the endpoint 0. \end{DoxyCompactList}\item 
int32\+\_\+t \hyperlink{group__doc__driver__hal__usb__device_ga5146aa558c31f339e604b16763c81264}{usb\+\_\+d\+\_\+ep\+\_\+init} (const uint8\+\_\+t ep, const uint8\+\_\+t attr, const uint16\+\_\+t max\+\_\+pkt\+\_\+size)
\begin{DoxyCompactList}\small\item\em Initialize the endpoint. \end{DoxyCompactList}\item 
void \hyperlink{group__doc__driver__hal__usb__device_ga3e51e415f97d69a86d19f70774bbb4e5}{usb\+\_\+d\+\_\+ep\+\_\+deinit} (const uint8\+\_\+t ep)
\begin{DoxyCompactList}\small\item\em Disable and deinitialize the endpoint. \end{DoxyCompactList}\item 
int32\+\_\+t \hyperlink{group__doc__driver__hal__usb__device_ga1ad4a903a479d93cf1c44c51eeeb6621}{usb\+\_\+d\+\_\+ep\+\_\+enable} (const uint8\+\_\+t ep)
\begin{DoxyCompactList}\small\item\em Enabled the initialized endpoint. \end{DoxyCompactList}\item 
void \hyperlink{group__doc__driver__hal__usb__device_gade6576a693b632af3351ac7574356470}{usb\+\_\+d\+\_\+ep\+\_\+disable} (const uint8\+\_\+t ep)
\begin{DoxyCompactList}\small\item\em Disable the initialized endpoint. \end{DoxyCompactList}\item 
uint8\+\_\+t $\ast$ \hyperlink{group__doc__driver__hal__usb__device_ga0373a1bb335936be6c66067c350d2d00}{usb\+\_\+d\+\_\+ep\+\_\+get\+\_\+req} (const uint8\+\_\+t ep)
\begin{DoxyCompactList}\small\item\em Get request data pointer to access received setup request packet. \end{DoxyCompactList}\item 
int32\+\_\+t \hyperlink{group__doc__driver__hal__usb__device_ga25454406209bd4f1f2033f9c920fddb0}{usb\+\_\+d\+\_\+ep\+\_\+transfer} (const struct \hyperlink{structusb__d__transfer}{usb\+\_\+d\+\_\+transfer} $\ast$xfer)
\begin{DoxyCompactList}\small\item\em Endpoint transfer. \end{DoxyCompactList}\item 
void \hyperlink{group__doc__driver__hal__usb__device_ga4d4de7ba6b356e5bbdd0ec37c2dac442}{usb\+\_\+d\+\_\+ep\+\_\+abort} (const uint8\+\_\+t ep)
\begin{DoxyCompactList}\small\item\em Abort an on-\/going transfer on a specific endpoint. \end{DoxyCompactList}\item 
int32\+\_\+t \hyperlink{group__doc__driver__hal__usb__device_gaa6ccd9df460b1f5ee2c10a8203ed0543}{usb\+\_\+d\+\_\+ep\+\_\+get\+\_\+status} (const uint8\+\_\+t ep, struct \hyperlink{structusb__d__ep__status}{usb\+\_\+d\+\_\+ep\+\_\+status} $\ast$stat)
\begin{DoxyCompactList}\small\item\em Retrieve the endpoint status. \end{DoxyCompactList}\item 
int32\+\_\+t \hyperlink{group__doc__driver__hal__usb__device_ga0bca717cd42a112bcce39c20bdda966f}{usb\+\_\+d\+\_\+ep\+\_\+halt} (const uint8\+\_\+t ep, const enum \hyperlink{hpl__usb_8h_a579e31b2de8b2343e818b13c492f30cb}{usb\+\_\+ep\+\_\+halt\+\_\+ctrl} ctrl)
\begin{DoxyCompactList}\small\item\em Endpoint halt control. \end{DoxyCompactList}\item 
void \hyperlink{group__doc__driver__hal__usb__device_gac044e514b0b7fb6a5e0ac8f61c6c1912}{usb\+\_\+d\+\_\+ep\+\_\+register\+\_\+callback} (const uint8\+\_\+t ep, const enum \hyperlink{hpl__usb__device_8h_a3853f69b4a009f20ffb6f8e117616865}{usb\+\_\+d\+\_\+ep\+\_\+cb\+\_\+type} type, const \hyperlink{group__doc__driver__hal__utils__macro_gae40b38bc5f5a5bd452bdd59c67d9a9cf}{F\+U\+N\+C\+\_\+\+P\+TR} func)
\begin{DoxyCompactList}\small\item\em Register the U\+SB device endpoint callback on initialized endpoint. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{group__doc__driver__hal__usb__device_ga31a3689de8d913fb54c5ddf2d91840bb}{usb\+\_\+d\+\_\+get\+\_\+version} (void)
\begin{DoxyCompactList}\small\item\em Retrieve the current driver version. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
S\+AM U\+SB device H\+AL. 

Copyright (C) 2015-\/2016 Atmel Corporation. All rights reserved.

\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{hal__usb__device_8c_abecd5d83ae1a05fb01bc78f93da2022c}\label{hal__usb__device_8c_abecd5d83ae1a05fb01bc78f93da2022c}} 
\index{hal\+\_\+usb\+\_\+device.\+c@{hal\+\_\+usb\+\_\+device.\+c}!U\+S\+B\+\_\+\+D\+\_\+\+V\+E\+R\+S\+I\+ON@{U\+S\+B\+\_\+\+D\+\_\+\+V\+E\+R\+S\+I\+ON}}
\index{U\+S\+B\+\_\+\+D\+\_\+\+V\+E\+R\+S\+I\+ON@{U\+S\+B\+\_\+\+D\+\_\+\+V\+E\+R\+S\+I\+ON}!hal\+\_\+usb\+\_\+device.\+c@{hal\+\_\+usb\+\_\+device.\+c}}
\subsubsection{\texorpdfstring{U\+S\+B\+\_\+\+D\+\_\+\+V\+E\+R\+S\+I\+ON}{USB\_D\_VERSION}}
{\footnotesize\ttfamily \#define U\+S\+B\+\_\+\+D\+\_\+\+V\+E\+R\+S\+I\+ON~0x00000001u}

U\+SB device H\+AL driver version. 